SET-5. Write and run a TCP client and a TCP server program using 'JAVA' language in Unix/Linux

according to the following specifications:                                                                                                                                                                                  

(a)  Establish a TCP connection between a TCP client and a TCP server. 

(b)  Client program will send a number to the specific server. 

( C ) Server program will find the  factorial  in the given number  and return the result  back to the respective client.  




Ans: -
--------------------------------------------------------

To perform this at first, we have to create two separate Java files on our directory one for Server and
other one for the Client with the help of ‘vim’ editor. Then we can write the code to setup
TCPFactorialServer and TCPFactorialClient locally.


TCPFactorialServer:
----------------------------------------------------

import java.io.;
import java.net.;
public class TCPFactorialServer {
 public static void main(String[] args) {
 try (ServerSocket serverSocket = new ServerSocket(6789)) {
 System.out.println("Server is listening on port 6789");
 while (true) {
 new FactorialServerThread(serverSocket.accept()).start();
 }
 } catch (IOException ex) {
 System.out.println("Server exception: " + ex.getMessage());
 ex.printStackTrace();
 }
 }
}
class FactorialServerThread extends Thread {
 private Socket socket;
 public FactorialServerThread(Socket socket) {
 this.socket = socket;
 }
public void run() {
 try (InputStream input = socket.getInputStream();
 BufferedReader reader = new BufferedReader(new InputStreamReader(input));
 OutputStream output = socket.getOutputStream();
 PrintWriter writer = new PrintWriter(output, true)) {
 String numberStr = reader.readLine();
 int number = Integer.parseInt(numberStr);
 System.out.println("Received number: " + number);

 long result = factorial(number);
 writer.println(result);
 } catch (IOException | NumberFormatException ex) {
 System.out.println("Server thread exception: " + ex.getMessage());
 ex.printStackTrace();
 }
 }
 private long factorial(int n) {
 if (n == 0) return 1;
 long result = 1;
 for (int i = 1; i <= n; i++) {
 result = i;
 }
 return result;
 }
}


TCPFactorialClient:
----------------------------------------------------

import java.io.;
import java.net.*;
public class TCPFactorialClient {
 public static void main(String[] args) {
 String hostname = "localhost";
 int port = 6789;
 try (Socket socket = new Socket(hostname, port);
 OutputStream output = socket.getOutputStream();
 PrintWriter writer = new PrintWriter(output, true);
 InputStream input = socket.getInputStream();
 BufferedReader reader = new BufferedReader(new InputStreamReader(input));
 BufferedReader consoleReader = new BufferedReader(new InputStreamReader(System.in))) {
 System.out.print("Enter a number: ");
 String number = consoleReader.readLine();
 writer.println(number);
 String response = reader.readLine();
 System.out.println("Factorial result from server: " + response);
 } catch (UnknownHostException ex) {
 System.out.println("Server not found: " + ex.getMessage());
 } catch (IOException ex) {
 System.out.println("I/O error: " + ex.getMessage());
 }
 }
}

OUTPUT: 
---------------------------------------------------

https://i.postimg.cc/T3FhQ130/image-2.png